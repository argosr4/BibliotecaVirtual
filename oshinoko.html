<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="imagens/favicon-16x16.png" type="image/png">
    <title>Oshi no ko</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="leitura.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
</head>
<body>

    <nav>
        <ul class="navbar">
            <li><a href="index.html">Home</a></li>
            <li><a href="lancamento.html">Lançamentos</a></li>
            <li><a href="populares.html">Populares</a></li>
            <li>
                <div class="searchbar">
                    <input type="text" class="search-input" placeholder="Buscar...">
                    <button class="search-button">Pesquisar</button>
                </div>
            </li>
        </ul>
    </nav>

    <div class="page-container">
        <div class="header">
            <h1 id="title">Oshi no ko</h1>
            <!-- Seletor de capítulos -->
            <select id="capituloSelector">
                <option value="" disabled selected>Selecione o capítulo</option>
            </select>
            <!-- Seletor de páginas -->
            <select id="pageSelector">
                <option value="" selected disabled>Selecione uma página</option>
            </select>
        </div>

        <main>
            <div id="capa">
                <img src="imagens/kana2season.webp" alt="Sousou No Frieren">
            </div>
        </main>

        <div class="manga">
            <div id="imagensExibidas"></div>
        </div>

        <div id="pagination">
            Página: <span id="current-page">1</span> de <span id="total-pages">0</span>
        </div>
    </div>

    <script>
        const capituloSelector = document.getElementById('capituloSelector');
        const capa = document.getElementById('capa');
        const pageSelector = document.getElementById('pageSelector');
        const imagensExibidas = document.getElementById('imagensExibidas');
        const currentPageElement = document.getElementById('current-page');
        const totalPagesElement = document.getElementById('total-pages');

        // Função para inicializar o seletor de capítulos e imagens
        function initializeCapituloSelector() {
            const capitulos = [
                { 
                  nome: "Capítulo 157", 
                    imagens: [
                        { src: "https://meo.comick.pictures/1-RcV9sI-cb7fCR.jpg" },
                        { src: "https://meo.comick.pictures/2-2jF6suskltfEA.jpg" },
                        { src: "https://meo.comick.pictures/3-Jb2XR5loIipoc.jpg" },
                        { src: "https://meo.comick.pictures/4-3f3y61r8AIlAX.jpg" },
                        { src: "https://meo.comick.pictures/5-gzHvvz_soRlQV.jpg" },
                        { src: "https://meo.comick.pictures/6-f1ChaAgAvI3gM.jpg" },
                        { src: "https://meo.comick.pictures/7-ScmuLi_0tbQ3i.jpg" },
                        { src: "https://meo.comick.pictures/8-ZiJEQOsNG6dxc.jpg" },
                        { src: "https://meo.comick.pictures/9-ypShCX9D0dCRA.jpg" },
                        { src: "https://meo.comick.pictures/10-nYxMbczBA8h44.jpg" },
                        { src: "https://meo.comick.pictures/11-NBkDQBOBAqzZP.jpg" },
                        { src: "https://meo.comick.pictures/12-QKtW0gpdWeVyv.jpg" },
                        { src: "https://meo.comick.pictures/13-Ae2F4gkLLjFT6.jpg" },
                        { src: "https://meo.comick.pictures/14-bt9kVDk7NcpEl.jpg" },
                        { src: "https://meo.comick.pictures/15-PqrHVSUsGLtVA.jpg" },
                        { src: "https://meo.comick.pictures/16-nEUNUg8O2DWml.jpg" },
                        { src: "https://meo.comick.pictures/17-kLm_RLFPcgoiF.jpg" },
                    ]
                },
                { 
                  nome: "Capítulo 158", 
                    imagens: [
                        { src: "https://meo.comick.pictures/1-OwbWRla9cMpSy.png" },
                        { src: "https://meo.comick.pictures/2-22ho8SqkoL8-e.png" },
                        { src: "https://meo.comick.pictures/3-fazPgzvZ_LXgL.png" },
                        { src: "https://meo.comick.pictures/4-zel3d46zwMc7v.png" },
                        { src: "https://meo.comick.pictures/5-Z9vl3HvEZ2SCu.png" },
                        { src: "https://meo.comick.pictures/6-Ug8fItfPcme_X.png" },
                        { src: "https://meo.comick.pictures/7-40Ojxx7F8QQbl.png" },
                        { src: "https://meo.comick.pictures/8-3KRgmrsBA4_Yr.png" },
                        { src: "https://meo.comick.pictures/9-bN_9DNWS80U-Y.png" },
                        { src: "https://meo.comick.pictures/10-fCNc2iUaKqFj-.png" },
                        { src: "https://meo.comick.pictures/11-nNc2_adJspEA8.png" },
                        { src: "https://meo.comick.pictures/12-Nt-V4F0DKGcHE.png" },
                        { src: "https://meo.comick.pictures/13-Y-POAuqu_8-8p.png" },
                        { src: "https://meo.comick.pictures/14-ULK0v1myJIK79.png" },
                        { src: "https://meo.comick.pictures/15-0MJppRh-PDhma.png" },
                        { src: "https://meo.comick.pictures/16-17Uhp0q_wk0GM.png" },
                        { src: "https://meo.comick.pictures/17-s3yidD1yvmPCs.png" },
                        { src: "https://meo.comick.pictures/18-3XG71eqI4Gx7K.png" },
                    ]
                },
                { 
                  nome: "Capítulo 159",
                      imagens: [
                      { src: "https://meo.comick.pictures/1-ANNp8URaDfW5D.png" },
                      { src: "https://meo.comick.pictures/2-i-rlFMhp2z12A.png" },
                      { src: "https://meo.comick.pictures/3-D4mYPM4vx482n.png" },
                      { src: "https://meo.comick.pictures/4-X6kCvVkQmJ5yl.png" },
                      { src: "https://meo.comick.pictures/5-c0pEw0XwvqqYC.png" },
                      { src: "https://meo.comick.pictures/6-48iu72P4f9MV9.png" },
                      { src: "https://meo.comick.pictures/7-CQ2surs5_4J3g.png" },
                      { src: "https://meo.comick.pictures/8-ZJ0y9uKHcDMEI.png" },
                      { src: "https://meo.comick.pictures/9-UA3xCkWEoKmyi.png" },
                      { src: "https://meo.comick.pictures/10-hA_BE5Wz6ndjj.png" },
                      { src: "https://meo.comick.pictures/11-ke33JnpBjuhP8.png" },
                      { src: "https://meo.comick.pictures/12-xZ8CE1pt_zobe.png" },
                      { src: "https://meo.comick.pictures/13-n3y_tIkN-te7o.png" },
                      { src: "https://meo.comick.pictures/14-7KHtJ5W7so6Xk.png" },
                      { src: "https://meo.comick.pictures/15-6rBlQiB1Mpp4W.png" },
                      { src: "https://meo.comick.pictures/16-2vLE-32F2NZnb.png" },
                      { src: "https://meo.comick.pictures/17-bOVl52no7Vp4y.png" },
                      { src: "https://meo.comick.pictures/18-PXgWDqXyp61Fz.png" },
                    ]
                }
            ];

            // Popula o seletor de capítulos
            capitulos.forEach((capitulo, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = capitulo.nome;
                capituloSelector.appendChild(option);
            });

            // Evento de mudança no seletor de capítulos
            capituloSelector.addEventListener('change', function() {
                const selectedValue = parseInt(capituloSelector.value);
                const capituloSelecionado = capitulos[selectedValue];

                // Limpa as imagens e o seletor de páginas
                imagensExibidas.innerHTML = '';
                pageSelector.innerHTML = '<option value="" selected disabled>Selecione uma página</option>';

                // Adiciona as imagens do capítulo selecionado
                capituloSelecionado.imagens.forEach((imagem, index) => {
                    const imgElement = document.createElement('img');
                    imgElement.src = imagem.src;
                    imgElement.alt = `${capituloSelecionado.nome} - Página ${index + 1}`;
                    imgElement.classList.add('fade-in'); // Adiciona o efeito de fade-in
                    imagensExibidas.appendChild(imgElement);
                });

                // Atualiza o número total de páginas
                const totalPages = capituloSelecionado.imagens.length;
                totalPagesElement.textContent = totalPages;
                currentPageElement.textContent = 1;

                // Popula o seletor de páginas
                for (let i = 1; i <= totalPages; i++) {
                    const option = document.createElement('option');
                    option.value = i;
                    option.textContent = `Página ${i}`;
                    pageSelector.appendChild(option);
                }

                // Esconde a capa ao selecionar um capítulo
                capa.style.display = 'none';
            });

            // Evento de seleção de página
            pageSelector.addEventListener('change', function() {
                const selectedPage = parseInt(pageSelector.value);
                const imgElements = document.querySelectorAll('#imagensExibidas img');
                if (selectedPage > 0 && selectedPage <= imgElements.length) {
                    const selectedImg = imgElements[selectedPage - 1];
                    window.scrollTo({
                        top: selectedImg.offsetTop,
                        behavior: 'smooth'
                    });
                    currentPageElement.textContent = selectedPage;
                }
            });
        }

        // Inicializa o seletor de capítulos ao carregar a página
        window.onload = function() {
            initializeCapituloSelector();
        };
    </script>
</body>
</html>
